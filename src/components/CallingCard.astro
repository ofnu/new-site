---
interface Props {
  title: string;
  promptText?: string;
  className?: string;
}
const { 
  title, 
  promptText = "user@noahzoarski.net", 
  className = "" 
} = Astro.props;
---
<div class={`calling-card ${className}`}>
  <div class="card-header">
    <span class="card-title">
      <span class="prompt">{promptText}</span> <span class="path">{title}</span>
    </span>
  </div>
  <div class="card-content">
    <slot />
  </div>
</div>

<style>
  .calling-card {
    width: var(--card-width, 80%);
    max-width: 600px;
    border: 1px solid var(--border-color, #ffffff);
    background: var(--bg-primary, #121314);
    color: var(--text-primary, #ffffff);
    margin: 0 auto;
  }

  .card-header {
    border-bottom: 1px solid var(--border-color, #ffffff);
    padding: .5rem;
  }

  .card-title {
    font-size: 0.9rem;
    opacity: 0.8;
    font-family: var(--font-mono);
  }

  .card-content {
    padding: 1rem;
  }

  .prompt {
    color: var(--text-success, #00ff00);
  }

  .path {
    color: var(--text-primary, #ffffff);
    text-decoration: underline;
    text-underline-offset: 3px;
    text-decoration-style: solid;
  }

  /* Global styles for command line inside CallingCard */
  :global(.command-line) {
    margin: 1rem 0;
    color: var(--text-primary, #ffffff);
    font-size: 0.9rem;
    font-family: var(--font-mono);
  }

  :global(.blue) {
    color: var(--accent-blue, #268bd2) !important;
  }

  :global(.command) {
    color: var(--text-primary, #ffffff);
    font-size: 0.9rem;
  }

  :global(.output) {
    margin-left: 1rem;
    color: var(--text-secondary, rgba(255, 255, 255, 0.7));
    line-height: 1.5;
    font-size: 0.9rem;
  }

  :global(.link) {
    color: var(--accent-blue, #268bd2) !important;
    text-decoration: none;
    transition: text-decoration var(--transition-fast);
    opacity: 1 !important;
  }

  :global(.link:hover) {
    text-decoration: underline;
    opacity: 1 !important;
  }

  /* Dark Reader overrides */
  :global([data-darkreader-scheme="dark"]) {
    .calling-card {
      border: 1px solid var(--border-color) !important;
      border-color: var(--border-color) !important;
      background: var(--bg-primary) !important;
    }
    
    .card-header {
      border-bottom: 1px solid var(--border-color) !important;
      border-color: var(--border-color) !important;
    }

    .prompt {
      color: var(--text-success) !important;
    }

    .path {
      color: var(--text-primary) !important;
    }

    :global(.command-line) {
      color: var(--text-primary) !important;
    }

    :global(.blue) {
      color: var(--accent-blue) !important;
    }

    :global(.command) {
      color: var(--text-primary) !important;
    }

    :global(.output) {
      color: var(--text-secondary) !important;
    }

    :global(.link) {
      color: var(--accent-blue) !important;
      opacity: 1 !important;
    }
  }
</style>